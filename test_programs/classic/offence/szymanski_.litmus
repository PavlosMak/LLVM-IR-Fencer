X86 Szymanski
""

{}

P0               | P1              ;
while1:          | while1:         ;
MOV [flag1], $1  | MOV [flag2], $1 ;
waitbar1:        | waitbar1:       ;
MOV EAX, [flag2] | MOV EAX, [flag1];
MOV [flag1], $3  | MOV [flag2], $3 ;
CMP [flag2], $1  | CMP [flag1], $1 ;
JNE notif1       | JNE notif1      ;
MOV [flag1], $2  | MOV [flag2], $2 ;
waitbar2:        | waitbar2:       ;
MOV EBX, [flag2] | MOV EBX, [flag1];
notif1:          | notif1:         ;
MOV [flag1], $4  | MOV [flag2], $4 ;
waitbar3:        | waitbar3:       ;
MOV ECX, [flag2] | MOV ECX, [flag1];
waitbar4:        | waitbar4:       ;
MOV EDX, [flag2] | MOV EDX, [flag1];
MOV [flag1], $0  | MOV [flag1], $0 ;
JMP while1       | JMP while1      ;

exists ( (0:EAX=0 \/ 0:EAX=1 \/ 0:EAX=2) /\ (1:EAX=0 \/ 1:EAX=1 \/ 1:EAX=2) 
  /\ 0:EBX=4 /\ 1:EBX=4 /\ (0:ECX=0 \/ 0:ECX=1) /\ (1:ECX=0 \/ 1:ECX=1)  
  /\ (0:EDX=0 \/ 0:EDX=1 \/ 0:EDX=4) /\ (1:EDX=0 \/ 1:EDX=1 \/ 1:EDX=4) )
